package testutils

import (
	"encoding/json"
	"fmt"

	ethTypes "github.com/ethereum/go-ethereum/core/types"
)

// FakeTxHash is a txhash stub
const FakeTxHash = "0x47eaee9881eca782dd2a5636a24506c0d5fd75f13824df689c5d8f41b43addf0"

// MakeFakeReceipt builds a transaction receipt for testing
func MakeFakeReceipt() ethTypes.Receipt {
	s := fmt.Sprintf(`{
		"root":"0x",
		"status":"0x0",
		"cumulativeGasUsed":"0x0",
		"logsBloom":"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
		"logs":[],
		"transactionHash": "%s",
		"contractAddress": "0x0000000000000000000000000000000000000000",
		"gasUsed":"0x0",
		"blockHash":"0x0000000000000000000000000000000000000000000000000000000000000000",
		"transactionIndex":"0x0"}
	`, FakeTxHash)
	receipt := ethTypes.Receipt{}
	if err := json.Unmarshal([]byte(s), &receipt); err != nil {
		fmt.Println(err)
	}
	return receipt
}
